(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(1875)}])},1875:function(t,e,r){"use strict";r.r(e),r.d(e,{__N_SSG:function(){return vt},default:function(){return pt}});var n=r(5893),i=r(7294),s=(r(8356),r(8089),r(9656));"undefined"!==typeof navigator&&r(6876);var o,a={bien:"custom-blue",chuongtrinh:"custom-blue",nguyen:"custom-purple",thuc:"custom-purple",chuoi:"custom-purple",bool:"custom-purple",ham:"custom-blue",trave:"custom-purple",neu:"custom-purple",nguoclai:"custom-purple",khi:"custom-purple",dung:"custom-blue",sai:"custom-blue",in:"custom-purple"},u=function(){return{startState:function(){return{inString:!1}},token:function(t,e){if(e.inString||'"'!=t.peek()||(t.next(),e.inString=!0),e.inString)return t.skipTo('"')?(t.next(),e.inString=!1):t.skipToEnd(),"custom-string";var r=t.match(/[\w]+/);return r?a[r[0]]?a[r[0]]:"custom-light-blue":(t.next(),null)}}},h=function(t){var e=t.code,r=t.setCode;return(0,n.jsx)(s.fk,{value:e,defineMode:{name:"shopee",fn:u},options:{mode:"shopee",theme:"material",lineNumbers:!0},onBeforeChange:function(t,e,n){r(n)}})},c=function(t){var e=t.name,r=t.handleSelect;return(0,n.jsx)("span",{className:"button",onClick:r,children:e})},l=r(2222),v=r(1438);!function(t){t.INTEGER_CONST="INTEGER_CONST",t.REAL_CONST="REAL_CONST",t.STRING_CONST="STRING_CONST",t.BOOL_CONST="BOOL_CONST",t.INTEGER="INTEGER",t.REAL="REAL",t.STRING="STRING",t.BOOL="BOOL",t.EQUAL="EQUAL",t.NOT_EQUAL="NOT_EQUAL",t.GREATER_THAN="GREATER_THAN",t.LESS_THAN="LESS_THAN",t.GREATER_THAN_OR_EQUAL="GREATER_THAN_OR_EQUAL",t.LESS_THAN_OR_EQUAL="LESS_THAN_OR_EQUAL",t.PLUS="PLUS",t.MINUS="MINUS",t.MULTIPLE="MULTIPLE",t.DIVIDE="DIVIDE",t.LPAREN="LPAREN",t.RPAREN="RPAREN",t.INTEGER_DIV="INTEGER_DIV",t.REAL_DIV="REAL_DIV",t.INTEGER_MOD="INTEGER_MOD",t.BEGIN="BEGIN",t.END="END",t.PROGRAM="PROGRAM",t.VAR="VAR",t.COMMA="COMMA",t.COLON="COLON",t.PROCEDURE="PROCEDURE",t.RETURN="RETURN",t.IF="IF",t.ELSE="ELSE",t.WHILE="WHILE",t.ID="ID",t.ASSIGN="ASSIGN",t.SEMI="SEMI",t.DOT="DOT",t.UNDEFINED="UNDEFINED",t.EOF="EOF"}(o||(o={}));var p=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;(0,v.Z)(this,t),this.type=e,this.value=r,this.lineno=n,this.column=i}var e=t.prototype;return e.showToken=function(){return"Token: ".concat(this.type,", gi\xe1 tr\u1ecb = ").concat(this.value,", v\u1ecb tr\xed = ").concat(this.lineno,":").concat(this.column)},e.isCompareOperator=function(){return t.listCompareOperator.includes(this.type)},t.addSampleCompareOperator=function(){t.listCompareOperator.push(o.EQUAL),t.listCompareOperator.push(o.NOT_EQUAL),t.listCompareOperator.push(o.GREATER_THAN),t.listCompareOperator.push(o.LESS_THAN),t.listCompareOperator.push(o.GREATER_THAN_OR_EQUAL),t.listCompareOperator.push(o.LESS_THAN_OR_EQUAL)},t}();p.listCompareOperator=[];var f,E=p,T=r(8668),N=r(6166),C=function(){function t(){(0,v.Z)(this,t)}return t.prototype.getType=function(){return"AST"},t}(),d=function(t){(0,T.Z)(r,t);var e=(0,N.Z)(r);function r(t,n){var i;return(0,v.Z)(this,r),(i=e.call(this)).token=t,i.result=n,i}return r.prototype.getType=function(){return"Return"},r}(C),S=function(){function t(){(0,v.Z)(this,t),this.records=[]}var e=t.prototype;return e.push=function(t){this.records.push(t)},e.pop=function(){return this.records.pop()},e.peek=function(){return this.records.length>0?this.records[this.records.length-1]:void 0},t}();!function(t){t[t.PROGRAM=0]="PROGRAM",t[t.PROCEDURE=1]="PROCEDURE"}(f||(f={}));var m,R,g=function(){function t(e,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;(0,v.Z)(this,t),this.name=e,this.type=r,this.level=n,this.parentScope=i,this.members=new Map,this.builtInProcs=new Map,this.initBuiltInProcs()}var e=t.prototype;return e.initBuiltInProcs=function(){this.members.set("in","visitPrint"),this.builtInProcs.set("in","visitPrint")},e.getItem=function(t){return this.members.has(t)?this.members.get(t):null!==this.parentScope?this.parentScope.getItem(t):null},e.setItem=function(t,e){this.members.set(t,e)},t}(),O=function(){function t(){(0,v.Z)(this,t)}return t.prototype.visit=function(t){var e=t.getType(),r=this["visit".concat(e)];if("function"===typeof r)return r.call(this,t);throw new Error("No visitor method found for node type: ".concat(e))},t}(),y=function(t){(0,T.Z)(r,t);var e=(0,N.Z)(r);function r(){var t;return(0,v.Z)(this,r),(t=e.call(this)).callStack=new S,t.resultArray=[],t}var n=r.prototype;return n.showError=function(t){throw new Error(t)},n.visitBinOP=function(t){switch(t.op.type){case o.PLUS:return this.visit(t.left)+this.visit(t.right);case o.MINUS:return this.visit(t.left)-this.visit(t.right);case o.MULTIPLE:return this.visit(t.left)*this.visit(t.right);case o.INTEGER_DIV:return Math.floor(this.visit(t.left)/this.visit(t.right));case o.INTEGER_MOD:return this.visit(t.left)%this.visit(t.right);case o.REAL_DIV:return this.visit(t.left)/this.visit(t.right);case o.EQUAL:return this.visit(t.left)===this.visit(t.right);case o.NOT_EQUAL:return this.visit(t.left)!==this.visit(t.right);case o.GREATER_THAN:return this.visit(t.left)>this.visit(t.right);case o.LESS_THAN:return this.visit(t.left)<this.visit(t.right);case o.GREATER_THAN_OR_EQUAL:return this.visit(t.left)>=this.visit(t.right);case o.LESS_THAN_OR_EQUAL:return this.visit(t.left)<=this.visit(t.right);default:this.showError("L\u1ed7i \u1edf visitBinOP: kh\xf4ng h\u1ed7 tr\u1ee3 operator n\xe0y")}},n.visitUnaryOP=function(t){switch(t.op.type){case o.PLUS:return+this.visit(t.expression);case o.MINUS:return-this.visit(t.expression);default:this.showError("L\u1ed7i \u1edf visitUnaryOP: kh\xf4ng h\u1ed7 tr\u1ee3 operator n\xe0y")}},n.visitNoOP=function(t){},n.visitMyNumber=function(t){return+t.value},n.visitMyString=function(t){return t.value},n.visitMyBool=function(t){return t.value},n.visitCompound=function(t){var e=!0,r=!1,n=void 0;try{for(var i,s=t.children[Symbol.iterator]();!(e=(i=s.next()).done);e=!0){var o=i.value;if(o.getType()===d.name.toString())return this.visit(o);this.visit(o)}}catch(a){r=!0,n=a}finally{try{e||null==s.return||s.return()}finally{if(r)throw n}}},n.visitAssign=function(t){var e=t.left;this.callStack.peek().setItem(e.value,this.visit(t.right))},n.visitVar=function(t){return this.callStack.peek().getItem(t.value)},n.visitBlock=function(t){var e=!0,r=!1,n=void 0;try{for(var i,s=t.declarations[Symbol.iterator]();!(e=(i=s.next()).done);e=!0){var o=i.value;this.visit(o)}}catch(a){r=!0,n=a}finally{try{e||null==s.return||s.return()}finally{if(r)throw n}}return this.visit(t.compoundStatement)},n.visitProcedureDeclaration=function(t){this.callStack.peek().setItem(t.procName,t)},n.visitVariableDeclaration=function(t){},n.visitTypeAST=function(t){},n.visitParam=function(t){},n.runBuiltInProc=function(t,e){var r=t.builtInProcs.get(e.procName);console.log("runBuiltInProc called for:",e.procName,"procedure:",r);var n=[],i=!0,s=!1,o=void 0;try{for(var a,u=e.actualParams[Symbol.iterator]();!(i=(a=u.next()).done);i=!0){var h=a.value;n.push(this.visit(h))}}catch(c){s=!0,o=c}finally{try{i||null==u.return||u.return()}finally{if(s)throw o}}if(console.log("Built-in proc params:",n),"visitPrint"===r)return this.visitPrint(n[0]);throw new Error("Unknown built-in procedure: ".concat(r))},n.visitProcedureCall=function(t){var e=this.callStack.peek();if(e.builtInProcs.has(t.procName))return this.runBuiltInProc(e,t);for(var r=e.getItem(t.procName),n=new g(t.procName,f.PROCEDURE,e.level+1,e),i=0;i<t.actualParams.length;i++)n.setItem(r.params[i].varNode.token.value,this.visit(t.actualParams[i]));this.callStack.push(n);var s=this.visit(r.blockNode);return this.callStack.pop(),s},n.visitReturn=function(t){return this.visit(t.result)},n.visitPrint=function(t){console.log("visitPrint called with:",t),this.resultArray.push(t),console.log("resultArray after push:",this.resultArray)},n.visitIf=function(t){this.visit(t.expression)?this.visit(t.ifBlock):t.elseBlock&&this.visit(t.elseBlock)},n.visitWhile=function(t){for(;this.visit(t.expression);)this.visit(t.whileBlock)},n.visitProgramAST=function(t){var e=new g(t.name,f.PROGRAM,1);this.callStack.push(e),this.visit(t.block),this.callStack.pop()},n.interpret=function(t){return this.resultArray=[],this.visit(t),this.resultArray},r}(O),I=r(4924);!function(t){t[t.UNEXPECTED_TOKEN=0]="UNEXPECTED_TOKEN",t[t.ID_NOT_FOUND=1]="ID_NOT_FOUND",t[t.PROCEDURE_NOT_FOUND=2]="PROCEDURE_NOT_FOUND",t[t.DUPLICATE_ID=3]="DUPLICATE_ID",t[t.NOT_FOUND_TYPE=4]="NOT_FOUND_TYPE",t[t.DUPLICATE_PROCEDURE=5]="DUPLICATE_PROCEDURE",t[t.TYPE_MISMATCH=6]="TYPE_MISMATCH",t[t.UNSIGNED=99]="UNSIGNED"}(m||(m={}));var k=(R={},(0,I.Z)(R,m.UNEXPECTED_TOKEN,"C\xfa ph\xe1p kh\xf4ng \u0111\xfang"),(0,I.Z)(R,m.ID_NOT_FOUND,"Bi\u1ebfn kh\xf4ng t\u1ed3n t\u1ea1i"),(0,I.Z)(R,m.PROCEDURE_NOT_FOUND,"H\xe0m kh\xf4ng t\u1ed3n t\u1ea1i"),(0,I.Z)(R,m.DUPLICATE_ID,"Bi\u1ebfn \u0111\xe3 \u0111\u01b0\u1ee3c khai b\xe1o"),(0,I.Z)(R,m.DUPLICATE_PROCEDURE,"H\xe0m \u0111\xe3 \u0111\u01b0\u1ee3c khai b\xe1o"),(0,I.Z)(R,m.NOT_FOUND_TYPE,"Ki\u1ec3u d\u1eef li\u1ec7u kh\xf4ng t\u1ed3n t\u1ea1i"),(0,I.Z)(R,m.TYPE_MISMATCH,"Ki\u1ec3u d\u1eef li\u1ec7u kh\xf4ng h\u1ee3p l\u1ec7"),(0,I.Z)(R,m.UNSIGNED,"Kh\xf4ng x\xe1c \u0111\u1ecbnh"),R),_=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"L\u1ed7i",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m.UNSIGNED,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;(0,v.Z)(this,t),this.errorCode=n,this.token=i,this.message="".concat(r,": ").concat(e)}return t.prototype.showError=function(){throw new Error(this.message)},t}(),A=function(t){(0,T.Z)(r,t);var e=(0,N.Z)(r);function r(t){return(0,v.Z)(this,r),e.call(this,t,"L\u1ed7i Lexer")}return r}(_),P="@",L=function(t){return" "===t||"\t"===t||"\r"===t},w=function(t){return"\n"===t},D=function(t){return/^-?\d+$/.test(t)},Z=function(t){return t.match(/[a-z]/i)},U=function(){function t(e){(0,v.Z)(this,t),this.text=e,this.pos=0,e.length>0?this.currentChar=e[0]:this.currentChar=P,this.lineno=1,this.column=1}var e=t.prototype;return e.showError=function(){var t="L\u1ed7i Lexer \u1edf ".concat(this.currentChar," d\xf2ng: ").concat(this.lineno,", c\u1ed9t: ").concat(this.column);new A(t).showError()},e.isEnd=function(){return this.currentChar===P},e.advanceCurrentChar=function(){w(this.currentChar)&&(this.lineno+=1,this.column=0),this.pos++,this.pos>this.text.length-1?this.currentChar=P:(this.currentChar=this.text[this.pos],this.column+=1)},e.peek=function(){var t=this.pos+1;return t>this.text.length-1?P:this.text[t]},e.skipWhiteSpace=function(){for(;!this.isEnd()&&L(this.currentChar);)this.advanceCurrentChar()},e.skipComment=function(){for(;!w(this.currentChar);)this.advanceCurrentChar();this.advanceCurrentChar()},e.takeNumber=function(){for(var t="",e=this.lineno,r=this.column;!this.isEnd()&&D(this.currentChar);)t+=this.currentChar,this.advanceCurrentChar();if("."===this.currentChar){for(t+=this.currentChar,this.advanceCurrentChar();!this.isEnd()&&D(this.currentChar);)t+=this.currentChar,this.advanceCurrentChar();return new E(o.REAL_CONST,t,e,r)}return new E(o.INTEGER_CONST,t,e,r)},e.takeId=function(){for(var e,r=this.lineno,n=this.column,i="";!this.isEnd()&&(e=this.currentChar,D(e)||Z(e));)i+=this.currentChar,this.advanceCurrentChar();var s=t.RESERVED_KEYWORDS[i];return s?new E(s.type,s.value,r,n):new E(o.ID,i,r,n)},e.takeString=function(){var t="",e=this.lineno,r=this.column;for(this.advanceCurrentChar();!this.isEnd()&&'"'!==this.currentChar;)t+=this.currentChar,this.advanceCurrentChar();return this.advanceCurrentChar(),new E(o.STRING_CONST,t,e,r)},e.takeOperator=function(){var t,e=this.currentChar,r=this.lineno,n=this.column;return"+"==this.currentChar?t=o.PLUS:"-"==this.currentChar?t=o.MINUS:"%"==this.currentChar?t=o.INTEGER_MOD:"*"==this.currentChar?t=o.MULTIPLE:"/"==this.currentChar?t=o.DIVIDE:"("==this.currentChar?t=o.LPAREN:")"==this.currentChar?t=o.RPAREN:(t=o.UNDEFINED,e=null),this.advanceCurrentChar(),new E(t,e,r,n)},e.getNextToken=function(){for(;!this.isEnd();){var t=void 0,e=this.currentChar,r=this.lineno,n=this.column;if(L(this.currentChar))this.skipWhiteSpace();else if("/"!=this.currentChar||"/"!=this.peek()){if(!w(this.currentChar)){if(Z(this.currentChar))return this.takeId();if(D(this.currentChar))return this.takeNumber();if('"'==this.currentChar)return this.takeString();if("{"==this.currentChar)this.advanceCurrentChar(),t=o.BEGIN;else if("}"==this.currentChar)this.advanceCurrentChar(),t=o.END;else if("="==this.currentChar&&"="==this.peek())this.advanceCurrentChar(),this.advanceCurrentChar(),t=o.EQUAL,e="==";else if("!"==this.currentChar&&"="==this.peek())this.advanceCurrentChar(),this.advanceCurrentChar(),t=o.NOT_EQUAL,e="!=";else if(">"==this.currentChar&&"="==this.peek())this.advanceCurrentChar(),this.advanceCurrentChar(),t=o.GREATER_THAN_OR_EQUAL,e=">=";else if("<"==this.currentChar&&"="==this.peek())this.advanceCurrentChar(),this.advanceCurrentChar(),t=o.LESS_THAN_OR_EQUAL,e="<=";else if(">"==this.currentChar)this.advanceCurrentChar(),t=o.GREATER_THAN;else if("<"==this.currentChar)this.advanceCurrentChar(),t=o.LESS_THAN;else if("="==this.currentChar)this.advanceCurrentChar(),t=o.ASSIGN;else if(";"==this.currentChar)this.advanceCurrentChar(),t=o.SEMI;else if("."==this.currentChar)this.advanceCurrentChar(),t=o.DOT;else if(":"==this.currentChar)this.advanceCurrentChar(),t=o.COLON;else if(","==this.currentChar)this.advanceCurrentChar(),t=o.COMMA;else if("/"==this.currentChar&&"#"==this.peek())this.advanceCurrentChar(),this.advanceCurrentChar(),t=o.INTEGER_DIV,e="/#";else{if("/"!=this.currentChar)return this.takeOperator();this.advanceCurrentChar(),t=o.REAL_DIV}return new E(t,e,r,n)}this.advanceCurrentChar()}else this.advanceCurrentChar(),this.advanceCurrentChar(),this.skipComment()}return new E(o.EOF,null,this.lineno,this.column)},e.getCurrentChar=function(){return this.currentChar},t.initReservedKeywords=function(){t.RESERVED_KEYWORDS={bien:new E(o.VAR,"VAR"),chuongtrinh:new E(o.PROGRAM,"PROGRAM"),nguyen:new E(o.INTEGER,"INTEGER"),thuc:new E(o.REAL,"REAL"),chuoi:new E(o.STRING,"STRING"),bool:new E(o.BOOL,"BOOL"),ham:new E(o.PROCEDURE,"PROCEDURE"),trave:new E(o.RETURN,"RETURN"),neu:new E(o.IF,"IF"),nguoclai:new E(o.ELSE,"ELSE"),khi:new E(o.WHILE,"WHILE"),dung:new E(o.BOOL_CONST,"TRUE"),sai:new E(o.BOOL_CONST,"FALSE")}},t}(),M=r(797),G=function(t){(0,T.Z)(r,t);var e=(0,N.Z)(r);function r(t,n,i){var s;return(0,v.Z)(this,r),(s=e.call(this)).left=t,s.op=n,s.right=i,s}return r.prototype.getType=function(){return"Assign"},r}(C),x=function(t){(0,T.Z)(r,t);var e=(0,N.Z)(r);function r(t,n,i){var s;return(0,v.Z)(this,r),(s=e.call(this)).left=t,s.op=n,s.right=i,s}return r.prototype.getType=function(){return"BinOP"},r}(C),b=function(t){(0,T.Z)(r,t);var e=(0,N.Z)(r);function r(t,n){var i;return(0,v.Z)(this,r),(i=e.call(this)).declarations=t,i.compoundStatement=n,i}return r.prototype.getType=function(){return"Block"},r}(C),B=function(t){(0,T.Z)(r,t);var e=(0,N.Z)(r);function r(){var t;return(0,v.Z)(this,r),(t=e.call(this)).children=[],t}return r.prototype.getType=function(){return"Compound"},r}(C),F=function(t){(0,T.Z)(r,t);var e=(0,N.Z)(r);function r(t,n,i){var s;return(0,v.Z)(this,r),(s=e.call(this)).expression=t,s.ifBlock=n,s.elseBlock=i,s}return r.prototype.getType=function(){return"If"},r}(C),V=function(t){(0,T.Z)(r,t);var e=(0,N.Z)(r);function r(t){var n;return(0,v.Z)(this,r),(n=e.call(this)).token=t,n.value="TRUE"===t.value,n}return r.prototype.getType=function(){return"MyBool"},r}(C),H=function(t){(0,T.Z)(r,t);var e=(0,N.Z)(r);function r(t){var n;return(0,v.Z)(this,r),(n=e.call(this)).token=t,n.value=t.value,n}return r.prototype.getType=function(){return"MyNumber"},r}(C),Q=function(t){(0,T.Z)(r,t);var e=(0,N.Z)(r);function r(t){var n;return(0,v.Z)(this,r),(n=e.call(this)).token=t,n.value=t.value,n}return r.prototype.getType=function(){return"MyString"},r}(C),j=function(t){(0,T.Z)(r,t);var e=(0,N.Z)(r);function r(){return(0,v.Z)(this,r),e.call(this)}return r.prototype.getType=function(){return"NoOP"},r}(C),W=function(t){(0,T.Z)(r,t);var e=(0,N.Z)(r);function r(t,n){var i;return(0,v.Z)(this,r),(i=e.call(this)).varNode=t,i.typeNode=n,i}return r.prototype.getType=function(){return"Param"},r}(C),Y=function(t){(0,T.Z)(r,t);var e=(0,N.Z)(r);function r(t,n,i){var s;return(0,v.Z)(this,r),(s=e.call(this)).procName=t,s.actualParams=n,s.token=i,s}return r.prototype.getType=function(){return"ProcedureCall"},r}(C),K=function(t){(0,T.Z)(r,t);var e=(0,N.Z)(r);function r(t,n,i,s){var o;return(0,v.Z)(this,r),(o=e.call(this)).procName=t,o.token=n,o.params=i,o.blockNode=s,o}return r.prototype.getType=function(){return"ProcedureDeclaration"},r}(C),X=function(t){(0,T.Z)(r,t);var e=(0,N.Z)(r);function r(t,n){var i;return(0,v.Z)(this,r),(i=e.call(this)).name=t,i.block=n,i}return r.prototype.getType=function(){return"ProgramAST"},r}(C),z=function(t){(0,T.Z)(r,t);var e=(0,N.Z)(r);function r(t){var n;return(0,v.Z)(this,r),(n=e.call(this)).token=t,n.value=t.value,n}return r.prototype.getType=function(){return"TypeAST"},r}(C),$=function(t){(0,T.Z)(r,t);var e=(0,N.Z)(r);function r(t,n){var i;return(0,v.Z)(this,r),(i=e.call(this)).op=t,i.expression=n,i}return r.prototype.getType=function(){return"UnaryOP"},r}(C),q=function(t){(0,T.Z)(r,t);var e=(0,N.Z)(r);function r(t){var n;return(0,v.Z)(this,r),(n=e.call(this)).token=t,n.value=t.value,n}return r.prototype.getType=function(){return"Var"},r}(C),J=function(t){(0,T.Z)(r,t);var e=(0,N.Z)(r);function r(t,n){var i;return(0,v.Z)(this,r),(i=e.call(this)).varNode=t,i.typeNode=n,i}return r.prototype.getType=function(){return"VariableDeclaration"},r}(C),tt=function(t){(0,T.Z)(r,t);var e=(0,N.Z)(r);function r(t,n){var i;return(0,v.Z)(this,r),(i=e.call(this)).expression=t,i.whileBlock=n,i}return r.prototype.getType=function(){return"While"},r}(C),et=function(t){(0,T.Z)(r,t);var e=(0,N.Z)(r);function r(t,n,i){return(0,v.Z)(this,r),e.call(this,i,"L\u1ed7i Parser",t,n)}return r}(_),rt=function(){function t(e){(0,v.Z)(this,t),this.lexer=e,this.currentToken=this.lexer.getNextToken()}var e=t.prototype;return e.showError=function(){var t="".concat(k[m.UNEXPECTED_TOKEN]," -> ").concat(this.currentToken.showToken());new et(m.UNEXPECTED_TOKEN,this.currentToken,t).showError()},e.eat=function(t){this.currentToken.type===t?this.currentToken=this.lexer.getNextToken():this.showError()},e.getBlock=function(){this.eat(o.BEGIN);var t=this.getDeclarations(),e=this.getCompoundStatement();return this.eat(o.END),new b(t,e)},e.getDeclarations=function(){for(var t=[];;)if(this.currentToken.type===o.VAR){if(this.eat(o.VAR),this.currentToken.type===o.ID){var e,r=this.getVariableDeclaration();(e=t).push.apply(e,(0,M.Z)(r)),this.eat(o.SEMI)}}else{if(this.currentToken.type!==o.PROCEDURE)break;var n=this.getProcedureDeclaration();t.push(n)}return t},e.getProcedureDeclaration=function(){this.eat(o.PROCEDURE);var t=this.currentToken.value,e=this.currentToken;this.eat(o.ID),this.eat(o.LPAREN);var r=this.getFormalParameterList();this.eat(o.RPAREN);var n=this.getBlock();return new K(t,e,r,n)},e.getFormalParameterList=function(){if(this.currentToken.type!==o.ID)return[];for(var t=this.getFormalParameter();this.currentToken.type===o.SEMI;)this.eat(o.SEMI),t.concat(this.getFormalParameter());return t},e.getFormalParameter=function(){var t=[];for(t.push(this.currentToken),this.eat(o.ID);this.currentToken.type===o.COMMA;)this.eat(o.COMMA),t.push(this.currentToken),this.eat(o.ID);this.eat(o.COLON);var e=this.getVarType();return t.map((function(t){return new W(new q(t),e)}))},e.getVarType=function(){var t=this.currentToken;switch(t.type){case o.INTEGER:this.eat(o.INTEGER);break;case o.REAL:this.eat(o.REAL);break;case o.STRING:this.eat(o.STRING);break;case o.BOOL:this.eat(o.BOOL)}return new z(t)},e.getVariableDeclaration=function(){var t=[];for(t.push(this.currentToken),this.eat(o.ID);this.currentToken.type===o.COMMA;)this.eat(o.COMMA),t.push(this.currentToken),this.eat(o.ID);this.eat(o.COLON);var e=this.getVarType();return t.map((function(t){return new J(new q(t),e)}))},e.getCompareExpression=function(){var t=this.getExpression(),e=this.currentToken;e.isCompareOperator()&&this.eat(this.currentToken.type);var r=this.getExpression();return new x(t,e,r)},e.getExpression=function(){for(var t=this.getTermExpression();this.currentToken.type===o.PLUS||this.currentToken.type===o.MINUS;){var e=this.currentToken;this.eat(e.type),t=new x(t,e,this.getTermExpression())}return t},e.getTermExpression=function(){for(var t=this.getFactor();this.currentToken.type===o.INTEGER_DIV||this.currentToken.type===o.MULTIPLE||this.currentToken.type===o.REAL_DIV||this.currentToken.type===o.INTEGER_MOD;){var e=this.currentToken;this.eat(e.type),t=new x(t,e,this.getFactor())}return t},e.getFactor=function(){var t=this.currentToken;switch(t.type){case o.PLUS:return this.eat(o.PLUS),new $(t,this.getFactor());case o.MINUS:return this.eat(o.MINUS),new $(t,this.getFactor());case o.INTEGER_CONST:return this.eat(o.INTEGER_CONST),new H(t);case o.REAL_CONST:return this.eat(o.REAL_CONST),new H(t);case o.STRING_CONST:return this.eat(o.STRING_CONST),new Q(t);case o.BOOL_CONST:return this.eat(o.BOOL_CONST),new V(t);case o.LPAREN:this.eat(o.LPAREN);var e=this.getExpression();return this.eat(o.RPAREN),e;case o.ID:return"("===this.lexer.getCurrentChar()?this.getProcCallStatement():this.getVariable();default:return this.getVariable()}},e.getCompoundStatement=function(){var t=new B;return t.children=this.getStatementList(),t},e.getStatementList=function(){var t=[];for(t.push(this.getStatement());this.currentToken.type===o.SEMI;)this.eat(o.SEMI),t.push(this.getStatement());return this.currentToken.type===o.ID&&this.showError(),t},e.getStatement=function(){return this.currentToken.type===o.BEGIN?this.getCompoundStatement():this.currentToken.type===o.ID&&"("===this.lexer.getCurrentChar()?this.getProcCallStatement():this.currentToken.type===o.ID?this.getAssignmentStatement():this.currentToken.type===o.RETURN?(this.eat(o.RETURN),new d(this.currentToken,this.getExpression())):this.currentToken.type===o.IF?(this.eat(o.IF),this.getIfStatement()):this.currentToken.type===o.WHILE?(this.eat(o.WHILE),this.getWhileStatement()):this.getEmpty()},e.getEmpty=function(){return new j},e.getWhileStatement=function(){this.eat(o.LPAREN);var t=this.getCompareExpression();this.eat(o.RPAREN);var e=this.getBlock();return new tt(t,e)},e.getIfStatement=function(){this.eat(o.LPAREN);var t=this.getCompareExpression();this.eat(o.RPAREN);var e=this.getBlock(),r=null;return this.currentToken.type===o.ELSE&&(this.eat(o.ELSE),r=this.getBlock()),new F(t,e,r)},e.getAssignmentStatement=function(){var t=this.getVariable(),e=this.currentToken;this.eat(o.ASSIGN);var r=this.getExpression();return new G(t,e,r)},e.getProcCallStatement=function(){var t=this.currentToken,e=t.value;this.eat(o.ID),this.eat(o.LPAREN);var r=[];if(this.currentToken.type!==o.RPAREN)for(r.push(this.getExpression());this.currentToken.type===o.COMMA;)this.eat(o.COMMA),r.push(this.getExpression());return this.eat(o.RPAREN),new Y(e,r,t)},e.getVariable=function(){var t=new q(this.currentToken);return this.eat(o.ID),t},e.getProgram=function(){this.eat(o.PROGRAM);var t=this.getVariable().value,e=this.getBlock();return new X(t,e)},e.parse=function(){var t=this.getProgram();return this.currentToken.type!==o.EOF&&this.showError(),t},t}(),nt=function(t){(0,T.Z)(r,t);var e=(0,N.Z)(r);function r(t,n,i){return(0,v.Z)(this,r),e.call(this,i,"L\u1ed7i Semantic",t,n)}return r}(_),it=r(5892),st=function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(0,v.Z)(this,t),this.name=e,this.type=r},ot=function(t){(0,T.Z)(r,t);var e=(0,N.Z)(r);function r(t){return(0,v.Z)(this,r),e.call(this,t)}return r.prototype.getName=function(){return this.name},r}((0,it.Z)(st)),at=function(t){(0,T.Z)(r,t);var e=(0,N.Z)(r);function r(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,v.Z)(this,r),(n=e.call(this,t)).params=null!==i?i:[],n}return r.prototype.getName=function(){return this.name},r}((0,it.Z)(st)),ut=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(0,v.Z)(this,t),this.scopeName=e,this.scopeLevel=r,this.symbols=new Map,this.parentScope=n,this.initBuiltInSymbol()}var e=t.prototype;return e.initBuiltInSymbol=function(){this.insert(new ot("INTEGER")),this.insert(new ot("REAL")),this.insert(new ot("STRING")),this.insert(new ot("BOOL")),this.insert(new at("in"))},e.insert=function(t){this.symbols.set(t.name,t)},e.lookup=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.symbols.has(t)?this.symbols.get(t):e||null===this.parentScope?void 0:this.parentScope.lookup(t)},t}(),ht=function(t){(0,T.Z)(r,t);var e=(0,N.Z)(r);function r(t,n){return(0,v.Z)(this,r),e.call(this,t,n)}return r.prototype.getValue=function(){var t;return"<".concat(this.name,": ").concat(null===(t=this.type)||void 0===t?void 0:t.name,">")},r}((0,it.Z)(st)),ct=function(t){(0,T.Z)(r,t);var e=(0,N.Z)(r);function r(){var t;return(0,v.Z)(this,r),(t=e.call(this)).currentScope=null,t}var n=r.prototype;return n.showError=function(t,e){var r="".concat(k[t]," -> ").concat(e.showToken());new nt(t,e,r).showError()},n.visitProgramAST=function(t){var e=new ut("global",1,this.currentScope);this.currentScope=e,this.visit(t.block),this.currentScope=this.currentScope.parentScope},n.visitBlock=function(t){var e=!0,r=!1,n=void 0;try{for(var i,s=t.declarations[Symbol.iterator]();!(e=(i=s.next()).done);e=!0){var o=i.value;this.visit(o)}}catch(a){r=!0,n=a}finally{try{e||null==s.return||s.return()}finally{if(r)throw n}}this.visit(t.compoundStatement)},n.visitBinOP=function(t){return(0,M.Z)(this.visit(t.left)).concat((0,M.Z)(this.visit(t.right)))},n.visitMyBool=function(t){return[t.token.type]},n.visitMyNumber=function(t){return[t.token.type]},n.visitMyString=function(t){return[t.token.type]},n.visitNoOP=function(t){},n.visitUnaryOP=function(t){return(0,M.Z)(this.visit(t.expression))},n.visitCompound=function(t){var e=!0,r=!1,n=void 0;try{for(var i,s=t.children[Symbol.iterator]();!(e=(i=s.next()).done);e=!0){var o=i.value;this.visit(o)}}catch(a){r=!0,n=a}finally{try{e||null==s.return||s.return()}finally{if(r)throw n}}},n.visitVariableDeclaration=function(t){var e,r,n,i=t.typeNode.value,s=null===(e=this.currentScope)||void 0===e?void 0:e.lookup(i);if(s){var o=t.varNode.value,a=new ht(o,s);(null===(r=this.currentScope)||void 0===r?void 0:r.lookup(o,!0))?this.showError(m.DUPLICATE_ID,t.varNode.token):null===(n=this.currentScope)||void 0===n||n.insert(a)}else this.showError(m.NOT_FOUND_TYPE,t.typeNode.token)},n.visitProcedureDeclaration=function(t){var e,r,n,i=t.procName;(null===(e=this.currentScope)||void 0===e?void 0:e.lookup(i,!0))&&this.showError(m.DUPLICATE_PROCEDURE,t.token);var s=new at(i);null===(r=this.currentScope)||void 0===r||r.insert(s);var o=new ut(i,(null===(n=this.currentScope)||void 0===n?void 0:n.scopeLevel)+1,this.currentScope);this.currentScope=o;var a=!0,u=!1,h=void 0;try{for(var c,l=t.params[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var v=c.value,p=this.currentScope.lookup(v.typeNode.value);if(!p)return void this.showError(m.NOT_FOUND_TYPE,v.typeNode.token);var f=v.varNode.value,E=new ht(f,p);this.currentScope.insert(E),s.params.push(E)}}catch(T){u=!0,h=T}finally{try{a||null==l.return||l.return()}finally{if(u)throw h}}this.visit(t.blockNode),this.currentScope=this.currentScope.parentScope},n.visitProcedureCall=function(t){var e=t.procName;this.currentScope&&!this.currentScope.lookup(e)&&this.showError(m.PROCEDURE_NOT_FOUND,t.token);var r=!0,n=!1,i=void 0;try{for(var s,o=t.actualParams[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){var a=s.value;this.visit(a)}}catch(u){n=!0,i=u}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return[]},n.visitVar=function(t){var e,r,n=null===(e=this.currentScope)||void 0===e?void 0:e.lookup(t.value);switch(n||this.showError(m.ID_NOT_FOUND,t.token),null===n||void 0===n||null===(r=n.type)||void 0===r?void 0:r.name){case"BOOL":return[o.BOOL_CONST];case"INTEGER":return[o.INTEGER_CONST];case"STRING":return[o.STRING_CONST];case"REAL":return[o.REAL_CONST];default:return[]}},n.visitAssign=function(t){var e,r,n=t.left;this.visit(n);var i=null===(r=null===(e=this.currentScope)||void 0===e?void 0:e.lookup(n.value))||void 0===r?void 0:r.type,s=this.visit(t.right);(null===s||void 0===s?void 0:s.includes(o.STRING_CONST))?"STRING"!==(null===i||void 0===i?void 0:i.name)&&this.showError(m.TYPE_MISMATCH,n.token):(null===s||void 0===s?void 0:s.includes(o.REAL_CONST))?"REAL"!==(null===i||void 0===i?void 0:i.name)&&this.showError(m.TYPE_MISMATCH,n.token):(null===s||void 0===s?void 0:s.includes(o.INTEGER_CONST))?"INTEGER"!==(null===i||void 0===i?void 0:i.name)&&this.showError(m.TYPE_MISMATCH,n.token):(null===s||void 0===s?void 0:s.includes(o.BOOL_CONST))&&"BOOL"!==(null===i||void 0===i?void 0:i.name)&&this.showError(m.TYPE_MISMATCH,n.token)},n.visitReturn=function(t){this.visit(t.result)},n.visitIf=function(t){this.visit(t.expression),this.visit(t.ifBlock),t.elseBlock&&this.visit(t.elseBlock)},n.visitWhile=function(t){this.visit(t.expression),this.visit(t.whileBlock)},r}(O);E.addSampleCompareOperator(),U.initReservedKeywords();var lt=function(t){var e=t.code,r=(0,i.useState)(["Result"]),s=r[0],o=r[1],a=(0,i.useState)(!1),u=a[0],h=a[1],c=(0,i.useState)(!1),v=c[0],p=c[1];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"button-container",children:(0,n.jsx)("span",{className:"button title",onClick:function(){if(p(!1),""!==e){h(!0);try{var t=function(t){var e=new U(t),r=new rt(e).parse();return(new ct).visit(r),{tree:r,result:(new y).interpret(r)}}(e),r=t.tree,n=t.result;console.log("Interpreter tree:",r),console.log("Interpreter result:",n),console.log("Result type:","undefined"===typeof n?"undefined":(0,l.Z)(n)),console.log("Result length:",null===n||void 0===n?void 0:n.length),o(n||[]),p(!1)}catch(s){p(!0);var i=s.message||"Something went wrong";o([i])}finally{h(!1)}}else o(["Please input code"])},children:"Phi\xean d\u1ecbch"})}),(0,n.jsx)("div",{className:"result-zone ".concat(v?"is-error":""),children:u?"...Interpreting...":s.map((function(t,e){return(0,n.jsx)("div",{children:t},e)}))})]})},vt=!0,pt=function(t){var e=t.examples,r=(0,i.useState)(""),s=r[0],o=r[1];return(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{children:"Ch\xe0o m\u1eebng \u0111\u1ebfn v\u1edbi Newbie Interpreter"}),(0,n.jsxs)("div",{className:"main-container",children:[(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsx)("div",{className:"title",children:"H\xe3y th\u1eed 1 s\u1ed1 v\xed d\u1ee5 sau:"}),(0,n.jsx)("div",{className:"example-container",children:Object.keys(e).map((function(t){return(0,n.jsx)(c,{name:t,handleSelect:function(){return o(e[t])}},t)}))}),(0,n.jsx)("div",{children:(0,n.jsx)(h,{code:s,setCode:o})})]}),(0,n.jsx)("div",{className:"result-panel-container",children:(0,n.jsx)(lt,{code:s})})]})]})}}},function(t){t.O(0,[126,642,774,888,179],(function(){return e=8312,t(t.s=e);var e}));var e=t.O();_N_E=e}]);